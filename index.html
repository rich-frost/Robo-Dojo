<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="description" content="Flight App Demo" />
	<meta name="viewport" content="width=device-width; initial-scale=1.0" />
	
	<title>Flight App Demo</title>
	
	<!-- standard dojo theme -->
	<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.8.1/dijit/themes/claro/claro.css" media="screen"/>
	<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.8.1/dojox/grid/resources/claroGrid.css" media="screen"/>
	
	<link rel="stylesheet" href="assets/style/layout.css" media="screen"/>
	
	<script>
		/* Instead of using the inline dojo-config attribute
		* create this variable so we can configure dojo here.
		* This seems a little clearer, easier to read as a config.
		*/
		var dojoConfig = {
			baseUrl: "./",
			async: true,
			isDebug: true,
			parseOnLoad: false,//false to allow for us to call this independantly in js later on
			//gfxRenderer: "svg, canvas, silverlight",//svg is preferred chart renderer
		
			//here are the packages dojo will be aware of and related js files
			//NOTE: do not import any other scripts through a script tag except for dojo.js,
			//if you do, you'll experience random errors and a double download of each js file required.
			packages: [
				//dojo specific packages
				{name: "dojo", location: "http://ajax.googleapis.com/ajax/libs/dojo/1.8.1/dojo", main: "dojo.js.uncompressed"}, //dojo.js.uncompressed.js for dev, use dojo.js for release
				{name: "dijit", location: "http://ajax.googleapis.com/ajax/libs/dojo/1.8.1/dijit"},
				{name: "dojox", location: "http://ajax.googleapis.com/ajax/libs/dojo/1.8.1/dojox"},
				
				//app packages start here
				{name: "fa", location: "uk/co/ipponsolutions/webapp/flightapp"}
			]
		};
	</script>
	
</head>

<!-- this basic layout uses the dojo layout widgets and a dojo standard them for styling applied via the body class -->
<body class="claro">
	
	<div id="appLayout" class="demoLayout" data-dojo-type="dijit/layout/BorderContainer" data-dojo-props="design: 'headline'">
		
		<div id="header-panel" class="edgePanel" data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region: 'top'">
			<h3>Demo Flight Info App</h3>
		</div>
		
		<div class="centerPanel" data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region: 'center', tabPosition: 'bottom'">
			
			<div id="briefingTab" data-dojo-type="dijit/layout/TabContainer" title="Briefing" nested="true">
	        
	        	<div data-dojo-type="dojox/layout/ContentPane" id="flightInfoView" title="Flight Info">
					<div id="flightInfo"></div>
                </div>

                <div id="mapView" data-dojo-type="dojox/layout/ContentPane" title="Map"></div>
			
			</div>
		</div>
		
	</div>
	
	<!-- dojo local import not in header becasue the dojo config should happen before this import -->
	<script src="http://ajax.googleapis.com/ajax/libs/dojo/1.8.1/dojo/dojo.js"></script>
	<script>
		/**
		 * Required packages for any daclarative markup that uses a dojo widget type such as BorderContainer,
		 * any third party libs, the dojo parser, and any custom growers nation packages such as geolocationModule.
		 */
		require(
			["fa/context/appContext",
			"dojo/parser",
			"dijit/layout/BorderContainer",
			"dijit/layout/TabContainer",
			"dijit/layout/ContentPane",
			"dojo/domReady!"],
			function(appContext, parser){

				//load context
				var app = new appContext();
				
				parser.parse();
				app.startup();
			}
		);
	</script> 
	
</body>

</html>